(function(){"use strict";self.onmessage=async r=>{const{password:o,salt:t}=r.data;try{const e=new TextEncoder,s=await crypto.subtle.importKey("raw",e.encode(o),{name:"PBKDF2"},!1,["deriveKey"]),a=125e3,n=await crypto.subtle.deriveKey({name:"PBKDF2",salt:e.encode(t+"128"),iterations:a,hash:"SHA-256"},s,{name:"AES-GCM",length:128},!0,["encrypt","decrypt"]),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:e.encode(t+"256"),iterations:a,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),y=await crypto.subtle.exportKey("raw",n),i=await crypto.subtle.exportKey("raw",c);self.postMessage({aes128Key:y,aes256Key:i})}catch(e){self.postMessage({error:e.message})}}})();
